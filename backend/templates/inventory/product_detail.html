{% extends "base.html" %}
{% block title %}{{ product.name }} - Inventory Pro{% endblock %}

{% block content %}
<div style="display:flex; align-items:center; gap:12px;">
  <h1 style="margin:0;">{{ product.name }}</h1>
  <span style="color:#666;">({{ product.sku }})</span>

  <div style="margin-left:auto; display:flex; gap:8px;">
    <a href="{% url 'inventory:product_update' pk=product.id %}">Edit</a>
    <a href="{% url 'inventory:stock_transaction' pk=product.id %}">Stock In / Out</a>
    <a href="{% url 'inventory:product_list' %}">Back</a>
  </div>
</div>

<hr/>

<ul>
  <li><b>Category:</b> {{ product.category.name }}</li>
  <li><b>Cost:</b> {{ product.cost }}</li>
  <li><b>Price:</b> {{ product.price }}</li>
  <li><b>On hand:</b> {{ product.quantity_on_hand }}</li>
  <li><b>Reorder level:</b> {{ product.reorder_level }}</li>
  <li><b>Status:</b> {% if product.is_active %}Active{% else %}Inactive{% endif %}</li>
</ul>

<p style="color:#666;">
  Created {{ product.created_at }} â€¢ Updated {{ product.updated_at }}
</p>
{% endblock %}

<hr/>
<h2>Recent Transactions</h2>

{% if transactions %}
  <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse:collapse;">
    <thead>
      <tr>
        <th>Date</th>
        <th>Type</th>
        <th>Qty</th>
        <th>Reference</th>
      </tr>
    </thead>
    <tbody>
      {% for t in transactions %}
        <tr>
          <td>{{ t.created_at }}</td>
          <td>{{ t.transaction_type }}</td>
          <td>{{ t.quantity }}</td>
          <td>{{ t.reference }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  <p style="margin-top:8px;">
    <a href="{% url 'inventory:transaction_list' %}?q={{ product.sku }}">View all for this SKU</a>
  </p>
{% else %}
  <p>No transactions yet.</p>
{% endif %}

